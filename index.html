<!doctype html>
<html lang="el">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>root@node:~#</title>

<style>
html,body{
  margin:0;
  background:black;
  overflow:hidden;
  color:#00ff88;
  font-family: Consolas, monospace;
}

/* MATRIX */
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

/* TERMINAL */
#terminal{
  position:relative;
  z-index:2;
  width:min(900px,94vw);
  margin:40px auto;
  background:rgba(0,0,0,.9);
  border:1px solid #00ff8855;
  padding:20px;
  box-shadow:0 0 40px #00ff8840;
}
.line{white-space:pre;}
.red{color:#ff3b3b;}
.glitch{
  animation: glitch .15s infinite;
}
@keyframes glitch{
  0%{text-shadow:2px 0 red;}
  50%{text-shadow:-2px 0 cyan;}
  100%{text-shadow:2px 0 red;}
}

/* FLASH */
.flash{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
  opacity:0;
}
.flash.white{ background:white; }
.flash.red{ background:#ff0000; }

.flash.active{
  animation: flashbang .6s ease-out;
}
@keyframes flashbang{
  0%{opacity:0;}
  10%{opacity:1;}
  30%{opacity:.95;}
  100%{opacity:0;}
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>
<div id="terminal"></div>
<div class="flash white" id="flashW"></div>
<div class="flash red" id="flashR"></div>

<script>
// -------- MATRIX ----------
const c=document.getElementById("matrix");
const ctx=c.getContext("2d");
function resize(){
  c.width=window.innerWidth;
  c.height=window.innerHeight;
}
resize(); window.onresize=resize;

const chars="01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&";
const fontSize=14;
const columns=Math.floor(c.width/fontSize);
const drops=Array(columns).fill(1);

function drawMatrix(){
  ctx.fillStyle="rgba(0,0,0,0.08)";
  ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle="#00ff88";
  ctx.font=fontSize+"px monospace";
  for(let i=0;i<drops.length;i++){
    const text=chars[Math.floor(Math.random()*chars.length)];
    ctx.fillText(text,i*fontSize,drops[i]*fontSize);
    if(drops[i]*fontSize>c.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
}
setInterval(drawMatrix,50);

// -------- PRANK ----------
const params=new URLSearchParams(location.search);
const nick=params.get("nick")||"USER";
const term=document.getElementById("terminal");

const lines=[
  "root@node:~# init secure shell",
  "establishing encrypted tunnel...",
  "bypassing firewall rules...",
  `target detected: ${nick}`,
  "injecting exploit module...",
  "reading memory sectors...",
  "â–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’ 32%",
  "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’ 61%",
  "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%",
  "DEVICE CONTROL ACQUIRED"
];

// ---- AUDIO (unlocked on first click) ----
let audioCtx=null;
function unlockAudio(){
  if(!audioCtx){
    audioCtx=new (window.AudioContext||window.webkitAudioContext)();
  }
}
document.addEventListener("click", unlockAudio, {once:true});

function beep(freq=700){
  if(!audioCtx) return;
  const o=audioCtx.createOscillator();
  o.frequency.value=freq;
  o.connect(audioCtx.destination);
  o.start();
  setTimeout(()=>o.stop(),80);
}

// FLASH
function flash(el){
  el.classList.remove("active");
  void el.offsetWidth;
  el.classList.add("active");
  beep(900);
}

// TYPE
async function type(text){
  const d=document.createElement("div");
  d.className="line";
  term.appendChild(d);
  for(let i=0;i<text.length;i++){
    d.textContent+=text[i];
    if(Math.random()>.8) beep(500+Math.random()*400);
    await new Promise(r=>setTimeout(r,25));
  }
}

// RUN (AUTO)
async function run(){
  const fw=document.getElementById("flashW");
  const fr=document.getElementById("flashR");

  // Î›ÎµÏ…ÎºÏŒ â†’ ÎšÏŒÎºÎºÎ¹Î½Î¿ â†’ Î›ÎµÏ…ÎºÏŒ
  flash(fw);
  setTimeout(()=>flash(fr),140);
  setTimeout(()=>flash(fw),280);

  if(navigator.vibrate) navigator.vibrate([120,60,120]);

  for(const l of lines){
    await type(l);
    await new Promise(r=>setTimeout(r,300));
  }

  const final=document.createElement("div");
  final.className="line glitch red";
  final.textContent=`
âš  SYSTEM ALERT âš 

Î§Î‘Î›Î‘Î¡Î©Î£Î• ${nick} ğŸ˜ˆ
Î‘Î¥Î¤ÎŸ Î—Î¤Î‘Î PRANK.

âœ” Î”ÎµÎ½ Î­Î³Î¹Î½Îµ hack
âœ” Î”ÎµÎ½ ÏƒÏ…Î»Î»Î­Ï‡Î¸Î·ÎºÎµ ÎºÎ±Î¼Î¯Î± Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯Î±
âœ” ÎšÎ±Î¼Î¯Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ IP / ÎºÎ¬Î¼ÎµÏÎ± / ÏƒÏ…ÏƒÎºÎµÏ…Î®

Î¤Î·Î½ Ï€Î¬Ï„Î·ÏƒÎµÏ‚ ğŸ¤£
`;
  term.appendChild(final);
}

run();
</script>

</body>
</html>

